<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®NG D·ª§NG TR·∫ÆC NGHI·ªÜM TR·ª∞C TUY·∫æN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/mammoth@1.4.2/mammoth.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }
        .animate-slide-up { animation: slideUp 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .progress-bar { transition: width 0.3s ease-in-out; }
        .btn-hover { transition: all 0.2s ease-in-out; }
        .btn-hover:hover { transform: translateY(-2px); }
        .notification { animation: slideDown 0.3s ease-out; }
        @keyframes slideDown { from { transform: translateY(-100%); } to { transform: translateY(0); } }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-6 shadow-lg">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl font-bold text-center">üéì ·ª®NG D·ª§NG TR·∫ÆC NGHI·ªÜM TR·ª∞C TUY·∫æN</h1>
            <p class="text-center mt-2 text-blue-100">ƒê∆∞·ª£c t·∫°o b·ªüi: H·ªì H·ªØu Th·∫ø - 0935078895</p>
        </div>
    </header>

    <!-- Notification -->
    <div id="notification" class="fixed top-20 left-1/2 transform -translate-x-1/2 z-50 hidden">
        <div class="bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg notification">
            <span id="notificationText"></span>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-8">
        <!-- Navigation Tabs -->
        <div class="max-w-6xl mx-auto mb-8">
            <div class="bg-white rounded-xl card-shadow p-2">
                <div class="flex flex-wrap gap-2">
                    <button id="tabQuiz" class="tab-btn active px-6 py-3 rounded-lg font-medium transition-all bg-gradient-to-r from-blue-500 to-purple-600 text-white">
                        üéì L√†m B√†i Thi
                    </button>
                    <button id="tabManage" class="tab-btn px-6 py-3 rounded-lg font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300">
                        üîí Qu·∫£n L√Ω C√¢u H·ªèi
                    </button>
                    <button id="tabResults" class="tab-btn px-6 py-3 rounded-lg font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300">
                        üèÜ B·∫£ng X·∫øp H·∫°ng
                    </button>
                </div>
            </div>
        </div>

        <!-- Student Info Form -->
        <div id="studentForm" class="max-w-md mx-auto bg-white rounded-xl card-shadow p-8 animate-fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">üìù Th√¥ng Tin H·ªçc Sinh</h2>
            <form id="infoForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-medium mb-2">H·ªç v√† T√™n *</label>
                    <input type="text" id="studentName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nh·∫≠p h·ªç v√† t√™n" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-medium mb-2">L·ªõp *</label>
                    <input type="text" id="studentClass" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="V√≠ d·ª•: 12A1" required>
                </div>
                <button type="submit" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-lg font-medium btn-hover">
                    üöÄ B·∫Øt ƒê·∫ßu L√†m B√†i
                </button>
            </form>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="hidden animate-fade-in">
            <!-- Progress Bar -->
            <div class="max-w-4xl mx-auto mb-8">
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-gray-600">Ti·∫øn ƒë·ªô</span>
                        <span id="progressText" class="text-sm font-medium text-blue-600">1/13</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full progress-bar" style="width: 6.67%"></div>
                    </div>
                </div>
            </div>

            <!-- Question Card -->
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-xl card-shadow p-8 animate-slide-up">
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">
                            <span id="questionNumber" class="text-blue-600">C√¢u 1:</span>
                            <span id="questionText"></span>
                        </h3>
                    </div>
                    
                    <div id="answersContainer" class="space-y-3 mb-8">
                        <!-- Answers will be populated here -->
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="flex justify-between items-center">
                        <button id="prevBtn" class="bg-gray-500 text-white px-6 py-3 rounded-lg font-medium btn-hover disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            ‚¨ÖÔ∏è C√¢u Tr∆∞·ªõc
                        </button>
                        
                        <div class="text-center">
                            <span id="timer" class="text-lg font-semibold text-gray-600">‚è±Ô∏è 00:00</span>
                        </div>
                        
                        <button id="nextBtn" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium btn-hover">
                            C√¢u Ti·∫øp ‚û°Ô∏è
                        </button>
                        
                        <button id="submitBtn" class="hidden bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium btn-hover">
                            üì§ N·ªôp B√†i
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="hidden animate-fade-in">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-xl card-shadow p-8 text-center">
                    <div id="resultIcon" class="text-6xl mb-4"></div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">K·∫øt Qu·∫£ B√†i Thi</h2>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-blue-50 rounded-lg p-6">
                            <h3 class="text-lg font-semibold text-blue-800 mb-2">üìä ƒêi·ªÉm S·ªë</h3>
                            <p class="text-3xl font-bold text-blue-600" id="scoreDisplay"></p>
                            <p class="text-sm text-blue-600" id="gradeDisplay"></p>
                        </div>
                        
                        <div class="bg-green-50 rounded-lg p-6">
                            <h3 class="text-lg font-semibold text-green-800 mb-2">‚úÖ Th·ªëng K√™</h3>
                            <p class="text-lg" id="statsDisplay"></p>
                            <p class="text-sm text-green-600" id="timeDisplay"></p>
                        </div>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button id="retakeBtn" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium btn-hover">
                            üîÑ L√†m L·∫°i B√†i Thi
                        </button>
                        <button id="leaderboardBtn" class="bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium btn-hover">
                            üèÜ Xem B·∫£ng X·∫øp H·∫°ng
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Question Management Container -->
        <div id="questionManagementContainer" class="hidden animate-fade-in">
            <div class="max-w-7xl mx-auto">
                <div class="bg-white rounded-xl card-shadow p-8">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">‚öôÔ∏è Qu·∫£n L√Ω C√¢u H·ªèi</h2>
                        <div class="flex gap-2">
                            <button id="deleteSelectedBtn" class="bg-red-500 text-white px-4 py-2 rounded-lg font-medium btn-hover hidden">
                                üóëÔ∏è X√≥a ƒê√£ Ch·ªçn (<span id="selectedCount">0</span>)
                            </button>
                            <button id="addQuestionBtn" class="bg-green-500 text-white px-4 py-2 rounded-lg font-medium btn-hover">
                                ‚ûï Th√™m C√¢u H·ªèi
                            </button>
                            <button id="importQuestionsBtn" class="bg-blue-500 text-white px-4 py-2 rounded-lg font-medium btn-hover">
                                üì• Import JSON
                            </button>
                            <button id="importWordBtn" class="bg-purple-500 text-white px-4 py-2 rounded-lg font-medium btn-hover">
                                üìÑ Import Word
                            </button>
                            <button id="exportQuestionsBtn" class="bg-orange-500 text-white px-4 py-2 rounded-lg font-medium btn-hover">
                                üì§ Export JSON
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-4 text-sm text-gray-600">
                        <p>üìù T·ªïng s·ªë c√¢u h·ªèi: <span id="totalQuestions" class="font-semibold text-blue-600">13</span></p>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">
                                        <input type="checkbox" id="selectAllCheckbox" class="w-4 h-4 text-blue-600 rounded">
                                    </th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">STT</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">C√¢u H·ªèi</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">ƒê√°p √Ån</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">ƒê√°p √Ån ƒê√∫ng</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">Thao T√°c</th>
                                </tr>
                            </thead>
                            <tbody id="questionsTableBody">
                                <!-- Questions will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Leaderboard Container -->
        <div id="leaderboardContainer" class="hidden animate-fade-in">
            <div class="max-w-6xl mx-auto">
                <div class="bg-white rounded-xl card-shadow p-8">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">üèÜ B·∫£ng X·∫øp H·∫°ng</h2>
                        <div class="flex gap-2">
                            <button id="exportBtn" class="bg-green-500 text-white px-4 py-2 rounded-lg font-medium btn-hover">
                                üìä Export Excel
                            </button>
                            <button id="clearDataBtn" class="bg-red-500 text-white px-4 py-2 rounded-lg font-medium btn-hover">
                                üóëÔ∏è X√≥a D·ªØ Li·ªáu
                            </button>
                            <button id="backToQuizBtn" class="bg-blue-500 text-white px-4 py-2 rounded-lg font-medium btn-hover">
                                ‚¨ÖÔ∏è Quay L·∫°i
                            </button>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">H·∫°ng</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">H·ªç T√™n</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">L·ªõp</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">ƒêi·ªÉm</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">Th·ªùi Gian</th>
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700">Ng√†y Thi</th>
                                </tr>
                            </thead>
                            <tbody id="leaderboardBody">
                                <!-- Leaderboard data will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Question Edit Modal -->
    <div id="questionModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-8 max-w-2xl mx-4 w-full animate-slide-up max-h-[90vh] overflow-y-auto">
            <h3 id="modalTitle" class="text-xl font-bold text-gray-800 mb-6">‚ûï Th√™m C√¢u H·ªèi M·ªõi</h3>
            
            <form id="questionForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-medium mb-2">C√¢u H·ªèi *</label>
                    <textarea id="questionInput" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Nh·∫≠p n·ªôi dung c√¢u h·ªèi..." required></textarea>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-medium mb-2">ƒê√°p √Ån A *</label>
                    <input type="text" id="answerA" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nh·∫≠p ƒë√°p √°n A..." required>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-medium mb-2">ƒê√°p √Ån B *</label>
                    <input type="text" id="answerB" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nh·∫≠p ƒë√°p √°n B..." required>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-medium mb-2">ƒê√°p √Ån C *</label>
                    <input type="text" id="answerC" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nh·∫≠p ƒë√°p √°n C..." required>
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-medium mb-2">ƒê√°p √Ån D *</label>
                    <input type="text" id="answerD" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nh·∫≠p ƒë√°p √°n D..." required>
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-medium mb-2">ƒê√°p √Ån ƒê√∫ng *</label>
                    <select id="correctAnswer" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                        <option value="">Ch·ªçn ƒë√°p √°n ƒë√∫ng...</option>
                        <option value="0">A</option>
                        <option value="1">B</option>
                        <option value="2">C</option>
                        <option value="3">D</option>
                    </select>
                </div>
                
                <div class="flex gap-4">
                    <button type="submit" id="saveQuestionBtn" class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium btn-hover">
                        ‚úÖ L∆∞u C√¢u H·ªèi
                    </button>
                    <button type="button" id="cancelQuestionBtn" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-medium btn-hover">
                        ‚ùå H·ªßy
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Import Modal -->
    <div id="importModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-8 max-w-2xl mx-4 w-full animate-slide-up">
            <h3 class="text-xl font-bold text-gray-800 mb-6">üì• Import C√¢u H·ªèi t·ª´ JSON</h3>
            
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-medium mb-2">Ch·ªçn file JSON ho·∫∑c d√°n n·ªôi dung JSON:</label>
                <input type="file" id="jsonFileInput" accept=".json" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4">
                <p class="text-sm text-gray-500 mb-4">Ho·∫∑c d√°n n·ªôi dung JSON v√†o √¥ b√™n d∆∞·ªõi:</p>
                <textarea id="jsonTextInput" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="10" placeholder='[{"question": "C√¢u h·ªèi?", "answers": ["A", "B", "C", "D"], "correct": 0}]'></textarea>
            </div>
            
            <div class="mb-6">
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-800 mb-2">üìã ƒê·ªãnh d·∫°ng JSON m·∫´u:</h4>
                    <pre class="text-xs text-blue-700 overflow-x-auto">[
  {
    "question": "C√¢u h·ªèi c·ªßa b·∫°n?",
    "answers": ["ƒê√°p √°n A", "ƒê√°p √°n B", "ƒê√°p √°n C", "ƒê√°p √°n D"],
    "correct": 0
  }
]</pre>
                </div>
            </div>
            
            <div class="flex gap-4">
                <button id="importConfirmBtn" class="flex-1 bg-blue-500 text-white py-3 rounded-lg font-medium btn-hover">
                    üì• Import
                </button>
                <button id="cancelImportBtn" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-medium btn-hover">
                    ‚ùå H·ªßy
                </button>
            </div>
        </div>
    </div>

    <!-- Import Word Modal -->
    <div id="importWordModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-8 max-w-3xl mx-4 w-full animate-slide-up max-h-[90vh] overflow-y-auto">
            <h3 class="text-xl font-bold text-gray-800 mb-6">üìÑ Import C√¢u H·ªèi t·ª´ File Word</h3>
            
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-medium mb-2">Ch·ªçn file Word (.docx):</label>
                <input type="file" id="wordFileInput" accept=".docx,.doc" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4">
                <div id="wordProcessingStatus" class="hidden mb-4">
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <div class="flex items-center">
                            <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"></div>
                            <span class="text-blue-700">ƒêang x·ª≠ l√Ω file Word...</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mb-6">
                <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                    <h4 class="font-semibold text-purple-800 mb-2">üìã ƒê·ªãnh d·∫°ng Word y√™u c·∫ßu:</h4>
                    <div class="text-sm text-purple-700 space-y-2">
                        <p><strong>C√°ch 1 - ƒê·ªãnh d·∫°ng c√≥ c·∫•u tr√∫c:</strong></p>
                        <pre class="text-xs bg-white p-2 rounded border">C√¢u 1: N·ªôi dung c√¢u h·ªèi?
A. ƒê√°p √°n A
B. ƒê√°p √°n B  
C. ƒê√°p √°n C
D. ƒê√°p √°n D
ƒê√°p √°n: A

C√¢u 2: N·ªôi dung c√¢u h·ªèi ti·∫øp theo?
A. ƒê√°p √°n A
B. ƒê√°p √°n B
C. ƒê√°p √°n C
D. ƒê√°p √°n D
ƒê√°p √°n: C</pre>
                        
                        <p><strong>C√°ch 2 - ƒê·ªãnh d·∫°ng ƒë∆°n gi·∫£n:</strong></p>
                        <pre class="text-xs bg-white p-2 rounded border">1. N·ªôi dung c√¢u h·ªèi?
a) ƒê√°p √°n A
b) ƒê√°p √°n B
c) ƒê√°p √°n C
d) ƒê√°p √°n D
ƒê√°p √°n ƒë√∫ng: a

2. N·ªôi dung c√¢u h·ªèi ti·∫øp theo?
a) ƒê√°p √°n A
b) ƒê√°p √°n B
c) ƒê√°p √°n C
d) ƒê√°p √°n D
ƒê√°p √°n ƒë√∫ng: c</pre>
                    </div>
                </div>
            </div>
            
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-medium mb-2">N·ªôi dung ƒë√£ tr√≠ch xu·∫•t:</label>
                <textarea id="wordExtractedText" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="12" placeholder="N·ªôi dung t·ª´ file Word s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y..." readonly></textarea>
            </div>
            
            <div class="flex gap-4">
                <button id="processWordBtn" class="flex-1 bg-purple-500 text-white py-3 rounded-lg font-medium btn-hover" disabled>
                    üîÑ X·ª≠ L√Ω & Import
                </button>
                <button id="cancelWordImportBtn" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-medium btn-hover">
                    ‚ùå H·ªßy
                </button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 animate-slide-up">
            <h3 class="text-xl font-bold text-gray-800 mb-4">‚ö†Ô∏è X√°c Nh·∫≠n N·ªôp B√†i</h3>
            <p id="confirmMessage" class="text-gray-600 mb-6"></p>
            <div class="flex gap-4">
                <button id="confirmSubmit" class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium btn-hover">
                    ‚úÖ N·ªôp B√†i
                </button>
                <button id="cancelSubmit" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-medium btn-hover">
                    ‚ùå H·ªßy
                </button>
            </div>
        </div>
    </div>

    <script>
        // Quiz Data - Tin H·ªçc - Ph·∫ßn M·ªÅm
        let quizData = [
            {
                question: "Trong c√°c ph∆∞∆°ng √°n d∆∞·ªõi ƒë√¢y ƒë√¢u kh√¥ng ph·∫£i l√† ph·∫ßn m·ªÅm ngu·ªìn m·ªü?",
                answers: ["Inkscape", "GIMP", "M√¥i tr∆∞·ªùng l·∫≠p tr√¨nh cho ng√¥n ng·ªØ Python", "Powerpoint"],
                correct: 3
            },
            {
                question: "Ph∆∞∆°ng √°n n√†o d∆∞·ªõi ƒë√¢y l√† ph·∫ßn m·ªÅm th∆∞∆°ng m·∫°i?",
                answers: ["Inkscape", "GIMP", "Microsoft Word", "M√¥i tr∆∞·ªùng l·∫≠p tr√¨nh cho ng√¥n ng·ªØ Python"],
                correct: 2
            },
            {
                question: "Ph∆∞∆°ng √°n n√†o d∆∞·ªõi ƒë√¢y l√† nguy√™n nh√¢n d·∫´n ƒë·∫øn s·ª± ra ƒë·ªùi c·ªßa ph·∫ßn m·ªÅm ngu·ªìn m·ªü?",
                answers: ["Kh√¥ng chia s·∫ª m√£ ngu·ªìn", "C√πng nhau t·∫°o ra m√£ ngu·ªìn", "Chia s·∫ª m√£ ngu·ªìn ƒë·ªÉ c√πng ph√°t tri·ªÉn", "Kh√≥ khƒÉn trong vi·ªác ti·∫øp c·∫≠n m√£ ngu·ªìn"],
                correct: 2
            },
            {
                question: "C√°ch th·ª©c chuy·ªÉn giao ph·∫ßn m·ªÅm cho ng∆∞·ªùi s·ª≠ d·ª•ng theo chi·ªÅu h∆∞·ªõng n√†o sau ƒë√¢y?",
                answers: ["NgƒÉn d·∫ßn", "ƒê√≥ng d·∫ßn", "B√≠ m·∫≠t d·∫ßn", "M·ªü d·∫ßn"],
                correct: 3
            },
            {
                question: "Ph∆∞∆°ng √°n n√†o d∆∞·ªõi ƒë√¢y m√¥ t·∫£ ƒë√∫ng ƒë·∫∑c ƒëi·ªÉm c·ªßa ph·∫ßn m·ªÅm t·ª± do?",
                answers: ["L√† ph·∫ßn ng∆∞·ªùi d√πng ph·∫£i mua m·ªõi c√≥ quy·ªÅn s·ª≠ d·ª•ng", "ƒê∆∞·ª£c s·ª≠ d·ª•ng m√† c·∫ßn xin ph√©p", "L√† ph·∫ßn m·ªÅm kh√¥ng ch·ªâ mi·ªÖn ph√≠ m√† c√≤n ƒë∆∞·ª£c t·ª± do s·ª≠ d·ª•ng", "Th∆∞·ªùng l√† ph·∫ßn m·ªÅm ngu·ªìn ƒë√≥ng"],
                correct: 2
            },
            {
                question: "Ph·∫ßn m·ªÅm th∆∞∆°ng m·∫°i th∆∞·ªùng ƒë∆∞·ª£c d√πng ƒë·ªÉ l√†m g√¨ d∆∞·ªõi ƒë√¢y?",
                answers: ["B√°n", "Trao ƒë·ªïi", "T·∫°o ra c√°c ch∆∞∆°ng tr√¨nh m·ªõi l·∫°", "S·ª≠ d·ª•ng mi·ªÖn ph√≠"],
                correct: 0
            },
            {
                question: "Ph·∫ßn m·ªÅm ƒë·∫∑t h√†ng ƒë∆∞·ª£c thi·∫øt k·∫ø d·ª±a tr√™n y√™u c·∫ßu n√†o d∆∞·ªõi ƒë√¢y?",
                answers: ["D·ª±a tr√™n nh·ªØng y√™u c·∫ßu chung c·ªßa nhi·ªÅu ng∆∞·ªùi", "Theo y√™u c·∫ßu c·ªßa t·ª´ng kh√°ch h√†ng", "D·ª±a tr√™n ph·∫ßn m·ªÅm ngu·ªìn m·ªü", "D·ª±a tr√™n y√™u c·∫ßu c·ªßa ph·∫ßn m·ªÅm t·ª± do"],
                correct: 1
            },
            {
                question: "Ph·∫ßn m·ªÅm th∆∞∆°ng m·∫°i l√† ph·∫ßn m·ªÅm nh∆∞ th·∫ø n√†o d∆∞·ªõi ƒë√¢y?",
                answers: ["L√† Ph·∫ßn m·ªÅm d√πng ƒë·ªÉ b√°n, l√† lo·∫°i ph·∫ßn m·ªÅm ngu·ªìn ƒë√≥ng", "L√† Ph·∫ßn m·ªÅm ng∆∞·ªùi d√πng mi·ªÖn ph√≠, l√† lo·∫°i ph·∫ßn m·ªÅm ngu·ªìn ƒë√≥ng", "L√† Ph·∫ßn m·ªÅm d√πng ƒë·ªÉ b√°n, l√† lo·∫°i ph·∫ßn m·ªÅm ngu·ªìn m·ªü", "L√† Ph·∫ßn m·ªÅm ng∆∞·ªùi d√πng mi·ªÖn ph√≠, l√† lo·∫°i ph·∫ßn m·ªÅm m·ªü"],
                correct: 0
            },
            {
                question: "Ph√°t bi·ªÉu n√†o d∆∞·ªõi ƒë√¢y ƒë√∫ng v·ªÅ ph·∫ßn m·ªÅm ngu·ªìn m·ªü?",
                answers: ["Ph·∫ßn m·ªÅm ƒë∆∞·ª£c cung c·∫•p c·∫£ m√£ ngu·ªìn ƒë·ªÉ ng∆∞·ªùi d√πng c√≥ th·ªÉ t·ª± s·ª≠a ƒë·ªïi, c·∫£i ti·∫øn, ph√°t tri·ªÉn, ph√¢n ph·ªëi l·∫°i theo m·ªôt quy ƒë·ªãnh", "Ph·∫ßn m·ªÅm ngu·ªìn m·ªü l√† kh√¥ng t·ª± do", "Ph·∫ßn m·ªÅm ngu·ªìn m·ªü ƒë∆∞·ª£c b·∫£o h√†nh", "Ph·∫ßn m·ªÅm ngu·ªìn m·ªü kh√¥ng ƒë∆∞·ª£c cung c·∫•p m√£ ngu·ªìn"],
                correct: 0
            },
            {
                question: "Ph√°t bi·ªÉu d∆∞·ªõi ƒë√¢y l√† ƒë√∫ng hay sai khi n√≥i v·ªÅ Gi·∫•y ph√©p c√¥ng c·ªông GNU GPL?",
                answers: ["Gi·∫•y ph√©p ƒëi·ªÉn h√¨nh v·ªõi ph·∫ßn m·ªÅm ngu·ªìn m·ªü", "Gi·∫•y ph√©p ƒëi·ªÉn h√¨nh v·ªõi ph·∫ßn ngu·ªìn ƒë√≥ng", "Gi·∫•y ph√©p ƒëi·ªÉn h√¨nh v·ªõi ph·∫ßn ngu·ªìn m·ªü v√† ƒë√≥ng", "Gi·∫•y ph√©p ƒë∆∞·ª£c √°p d·ª•ng kh√° h·∫°n ch·∫ø"],
                correct: 0
            },
            {
                question: "Ph∆∞∆°ng √°n n√†o d∆∞·ªõi ƒë√¢y th·ªÉ hi·ªán s·ª± kh√°c bi·ªát c∆° b·∫£n gi·ªØa ph·∫ßn m·ªÅm t·ª± do (free software) v√† ph·∫ßn m·ªÅm mi·ªÖn ph√≠ (freeware)?",
                answers: ["Ph·∫ßn m·ªÅm t·ª± do lu√¥n m·∫•t ph√≠ c√≤n ph·∫ßn m·ªÅm mi·ªÖn ph√≠ th√¨ kh√¥ng.", "Ph·∫ßn m·ªÅm t·ª± do cung c·∫•p c·∫£ m√£ ngu·ªìn, c√≤n ph·∫ßn m·ªÅm mi·ªÖn ph√≠ th√¨ th∆∞·ªùng kh√¥ng cung c·∫•p.", "Ph·∫ßn m·ªÅm mi·ªÖn ph√≠ cho ph√©p s·ª≠a ƒë·ªïi v√† ph√¢n ph·ªëi l·∫°i, c√≤n ph·∫ßn m·ªÅm t·ª± do th√¨ kh√¥ng.", "Kh√¥ng c√≥ s·ª± kh√°c bi·ªát n√†o, ch√∫ng l√† hai t√™n g·ªçi kh√°c nhau c·ªßa c√πng m·ªôt lo·∫°i ph·∫ßn m·ªÅm."],
                correct: 1
            },
            {
                question: "M·ªôt doanh nghi·ªáp v·∫≠n t·∫£i mu·ªën x√¢y d·ª±ng m·ªôt ·ª©ng d·ª•ng qu·∫£n l√Ω xe v√† ƒëi·ªÅu ph·ªëi t√†i x·∫ø theo quy tr√¨nh ho·∫°t ƒë·ªông ri√™ng c·ªßa m√¨nh. Theo c√°ch ph√¢n lo·∫°i ph·∫ßn m·ªÅm, ƒë√¢y l√† v√≠ d·ª• v·ªÅ lo·∫°i ph·∫ßn m·ªÅm n√†o trong c√°c ph∆∞∆°ng √°n d∆∞·ªõi ƒë√¢y?",
                answers: ["Ph·∫ßn m·ªÅm \"ƒë√≥ng g√≥i\".", "Ph·∫ßn m·ªÅm \"may-ƒëo\" (ƒë·∫∑t h√†ng).", "Ph·∫ßn m·ªÅm mi·ªÖn ph√≠ (freeware).", "Ph·∫ßn m·ªÅm ch·∫°y tr√™n Internet nh∆∞ Google Docs."],
                correct: 1
            },
            {
                question: "M·ªôt nh√≥m h·ªçc sinh ƒëang l√†m b√†i t·∫≠p nh√≥m m√¥n L·ªãch s·ª≠ v√† c·∫ßn m·ªôt c√¥ng c·ª• so·∫°n th·∫£o vƒÉn b·∫£n cho ph√©p nhi·ªÅu ng∆∞·ªùi c√πng ch·ªânh s·ª≠a m·ªôt t√†i li·ªáu trong th·ªùi gian th·ª±c t·ª´ c√°c m√°y t√≠nh kh√°c nhau, ch·ªâ c·∫ßn c√≥ m·∫°ng Internet. L·ª±a ch·ªçn n√†o d∆∞·ªõi ƒë√¢y l√† ph√π h·ª£p nh·∫•t?",
                answers: ["C√†i ƒë·∫∑t Microsoft Word tr√™n t·ª´ng m√°y v√† g·ª≠i t·ªáp qua email cho nhau.", "S·ª≠ d·ª•ng OpenOffice Writer v√† l∆∞u tr·ªØ t·ªáp tr√™n m√°y c·ªßa nh√≥m tr∆∞·ªüng.", "S·ª≠ d·ª•ng Google Docs qua tr√¨nh duy·ªát web.", "C√†i ƒë·∫∑t GIMP ƒë·ªÉ so·∫°n th·∫£o vƒÉn b·∫£n."],
                correct: 2
            }
        ];

        // Global Variables
        let currentQuestion = 0;
        let userAnswers = [];
        let shuffledQuestions = [];
        let startTime = null;
        let timerInterval = null;
        let studentInfo = {};
        let editingQuestionIndex = -1;

        // Utility Functions
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.classList.remove('hidden');
            
            if (type === 'success') {
                notification.firstElementChild.className = 'bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg notification';
            } else {
                notification.firstElementChild.className = 'bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg notification';
            }
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }

        // Quiz Functions
        function initializeQuiz() {
            shuffledQuestions = shuffleArray(quizData).map(q => {
                const answerIndices = [0, 1, 2, 3];
                const shuffledIndices = shuffleArray(answerIndices);
                const shuffledAnswers = shuffledIndices.map(i => q.answers[i]);
                const newCorrectIndex = shuffledIndices.indexOf(q.correct);
                
                return {
                    ...q,
                    answers: shuffledAnswers,
                    correct: newCorrectIndex
                };
            });
            
            userAnswers = new Array(shuffledQuestions.length).fill(null);
            currentQuestion = 0;
        }

        function startTimer() {
            startTime = new Date();
            timerInterval = setInterval(() => {
                const now = new Date();
                const elapsed = Math.floor((now - startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('timer').textContent = 
                    `‚è±Ô∏è ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }

        function getElapsedTime() {
            if (!startTime) return 0;
            return Math.floor((new Date() - startTime) / 1000);
        }

        function displayQuestion() {
            const question = shuffledQuestions[currentQuestion];
            document.getElementById('questionNumber').textContent = `C√¢u ${currentQuestion + 1}:`;
            document.getElementById('questionText').textContent = question.question;
            
            const answersContainer = document.getElementById('answersContainer');
            answersContainer.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const answerDiv = document.createElement('div');
                answerDiv.className = 'flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors';
                answerDiv.innerHTML = `
                    <input type="radio" name="answer" value="${index}" id="answer${index}" class="mr-3 w-4 h-4 text-blue-600">
                    <label for="answer${index}" class="flex-1 cursor-pointer font-medium text-gray-700">
                        ${String.fromCharCode(65 + index)}. ${answer}
                    </label>
                `;
                
                if (userAnswers[currentQuestion] === index) {
                    answerDiv.querySelector('input').checked = true;
                    answerDiv.classList.add('bg-blue-50', 'border-blue-300');
                }
                
                answerDiv.addEventListener('click', () => selectAnswer(index));
                answersContainer.appendChild(answerDiv);
            });
            
            updateProgress();
            updateNavigation();
        }

        function selectAnswer(answerIndex) {
            userAnswers[currentQuestion] = answerIndex;
            
            document.querySelectorAll('#answersContainer > div').forEach((div, index) => {
                if (index === answerIndex) {
                    div.classList.add('bg-blue-50', 'border-blue-300');
                    div.querySelector('input').checked = true;
                } else {
                    div.classList.remove('bg-blue-50', 'border-blue-300');
                    div.querySelector('input').checked = false;
                }
            });
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / shuffledQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = `${currentQuestion + 1}/${shuffledQuestions.length}`;
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === shuffledQuestions.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestion < shuffledQuestions.length - 1) {
                currentQuestion++;
                displayQuestion();
            }
        }

        function submitQuiz() {
            const unanswered = userAnswers.filter(answer => answer === null).length;
            
            if (unanswered > 0) {
                document.getElementById('confirmMessage').textContent = 
                    `B·∫°n c√≤n ${unanswered} c√¢u ch∆∞a tr·∫£ l·ªùi. B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën n·ªôp b√†i kh√¥ng?`;
            } else {
                document.getElementById('confirmMessage').textContent = 
                    'B·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ c√¢u h·ªèi. X√°c nh·∫≠n n·ªôp b√†i?';
            }
            
            document.getElementById('confirmModal').classList.remove('hidden');
        }

        function calculateScore() {
            let correct = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === shuffledQuestions[index].correct) {
                    correct++;
                }
            });
            
            const percentage = Math.round((correct / shuffledQuestions.length) * 100);
            const score10 = Math.round((correct / shuffledQuestions.length) * 10 * 10) / 10;
            
            return { correct, percentage, score10 };
        }

        function getGrade(percentage) {
            if (percentage >= 90) return { text: 'Xu·∫•t S·∫Øc', icon: 'üèÜ' };
            if (percentage >= 80) return { text: 'T·ªët', icon: 'ü•á' };
            if (percentage >= 60) return { text: 'Kh√°', icon: 'ü•à' };
            return { text: 'C·∫ßn C·ªë G·∫Øng', icon: 'üìö' };
        }

        function showResults() {
            stopTimer();
            const { correct, percentage, score10 } = calculateScore();
            const grade = getGrade(percentage);
            const elapsedTime = getElapsedTime();
            
            document.getElementById('resultIcon').textContent = grade.icon;
            document.getElementById('scoreDisplay').textContent = `${percentage}% (${score10}/10)`;
            document.getElementById('gradeDisplay').textContent = grade.text;
            document.getElementById('statsDisplay').textContent = `${correct}/${shuffledQuestions.length} c√¢u ƒë√∫ng`;
            document.getElementById('timeDisplay').textContent = `Th·ªùi gian: ${formatTime(elapsedTime)}`;
            
            saveResult({
                name: studentInfo.name,
                class: studentInfo.class,
                score: percentage,
                score10: score10,
                correct: correct,
                total: shuffledQuestions.length,
                time: elapsedTime,
                date: new Date().toLocaleDateString('vi-VN'),
                timestamp: new Date().getTime()
            });
            
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('resultsContainer').classList.remove('hidden');
            
            showNotification(`Ch√∫c m·ª´ng! B·∫°n ƒë·∫°t ${percentage}% - ${grade.text}!`);
        }

        function saveResult(result) {
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            results.push(result);
            localStorage.setItem('quizResults', JSON.stringify(results));
        }

        function resetQuiz() {
            stopTimer();
            currentQuestion = 0;
            userAnswers = [];
            studentInfo = {};
            
            document.getElementById('resultsContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
            document.getElementById('questionManagementContainer').classList.add('hidden');
            document.getElementById('studentForm').classList.remove('hidden');
            document.getElementById('infoForm').reset();
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.className = 'tab-btn px-6 py-3 rounded-lg font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300';
            });
            document.getElementById('tabQuiz').classList.add('active');
            document.getElementById('tabQuiz').className = 'tab-btn active px-6 py-3 rounded-lg font-medium transition-all bg-gradient-to-r from-blue-500 to-purple-600 text-white';
        }

        // Leaderboard Functions
        function loadLeaderboard() {
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            results.sort((a, b) => {
                if (b.score !== a.score) return b.score - a.score;
                return a.time - b.time;
            });
            
            const tbody = document.getElementById('leaderboardBody');
            tbody.innerHTML = '';
            
            results.forEach((result, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 ? 'bg-white' : 'bg-gray-50';
                
                let rankIcon = '';
                if (index === 0) rankIcon = 'ü•á';
                else if (index === 1) rankIcon = 'ü•à';
                else if (index === 2) rankIcon = 'ü•â';
                else rankIcon = `${index + 1}`;
                
                row.innerHTML = `
                    <td class="px-4 py-3 font-medium">${rankIcon}</td>
                    <td class="px-4 py-3">${result.name}</td>
                    <td class="px-4 py-3">${result.class}</td>
                    <td class="px-4 py-3 font-semibold text-blue-600">${result.score}%</td>
                    <td class="px-4 py-3">${formatTime(result.time)}</td>
                    <td class="px-4 py-3">${result.date}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function exportResults() {
            const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
            if (results.length === 0) {
                showNotification('Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·ªÉ xu·∫•t!', 'error');
                return;
            }
            
            const csvContent = [
                ['H·∫°ng', 'H·ªç T√™n', 'L·ªõp', 'ƒêi·ªÉm (%)', 'ƒêi·ªÉm (10)', 'S·ªë C√¢u ƒê√∫ng', 'T·ªïng C√¢u', 'Th·ªùi Gian', 'Ng√†y Thi'],
                ...results
                    .sort((a, b) => b.score - a.score || a.time - b.time)
                    .map((result, index) => [
                        index + 1,
                        result.name,
                        result.class,
                        result.score,
                        result.score10,
                        result.correct,
                        result.total,
                        formatTime(result.time),
                        result.date
                    ])
            ].map(row => row.join(',')).join('\n');
            
            const blob = new Blob(['\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `ket-qua-thi-${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            showNotification('ƒê√£ xu·∫•t file Excel th√†nh c√¥ng!');
        }

        function clearAllData() {
            if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a t·∫•t c·∫£ d·ªØ li·ªáu? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c!')) {
                localStorage.removeItem('quizResults');
                loadLeaderboard();
                showNotification('ƒê√£ x√≥a t·∫•t c·∫£ d·ªØ li·ªáu!');
            }
        }

        // Question Management Functions
        function loadQuestionsTable() {
            const tbody = document.getElementById('questionsTableBody');
            tbody.innerHTML = '';
            
            document.getElementById('totalQuestions').textContent = quizData.length;
            
            quizData.forEach((question, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 ? 'bg-white' : 'bg-gray-50';
                
                const correctAnswerLetter = String.fromCharCode(65 + question.correct);
                const shortQuestion = question.question.length > 50 ? 
                    question.question.substring(0, 50) + '...' : question.question;
                
                row.innerHTML = `
                    <td class="px-4 py-3">
                        <input type="checkbox" class="question-checkbox w-4 h-4 text-blue-600 rounded" data-index="${index}">
                    </td>
                    <td class="px-4 py-3 font-medium">${index + 1}</td>
                    <td class="px-4 py-3" title="${question.question}">${shortQuestion}</td>
                    <td class="px-4 py-3">
                        <div class="text-xs">
                            <div>A: ${question.answers[0].substring(0, 30)}${question.answers[0].length > 30 ? '...' : ''}</div>
                            <div>B: ${question.answers[1].substring(0, 30)}${question.answers[1].length > 30 ? '...' : ''}</div>
                            <div>C: ${question.answers[2].substring(0, 30)}${question.answers[2].length > 30 ? '...' : ''}</div>
                            <div>D: ${question.answers[3].substring(0, 30)}${question.answers[3].length > 30 ? '...' : ''}</div>
                        </div>
                    </td>
                    <td class="px-4 py-3">
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium">
                            ${correctAnswerLetter}
                        </span>
                    </td>
                    <td class="px-4 py-3">
                        <div class="flex gap-2">
                            <button class="edit-btn bg-blue-500 text-white px-3 py-1 rounded text-sm btn-hover" data-index="${index}">
                                ‚úèÔ∏è S·ª≠a
                            </button>
                            <button class="delete-btn bg-red-500 text-white px-3 py-1 rounded text-sm btn-hover" data-index="${index}">
                                üóëÔ∏è X√≥a
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
            
            // Add event listeners for checkboxes
            document.querySelectorAll('.question-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectedCount);
            });
            
            document.getElementById('selectAllCheckbox').checked = false;
            updateSelectedCount();
            
            // Remove existing event listeners to prevent duplicates
            const existingTbody = document.getElementById('questionsTableBody');
            const newTbody = existingTbody.cloneNode(true);
            existingTbody.parentNode.replaceChild(newTbody, existingTbody);
            
            // Add event listeners using event delegation for better performance
            newTbody.addEventListener('click', (e) => {
                if (e.target.classList.contains('delete-btn') || e.target.closest('.delete-btn')) {
                    const button = e.target.classList.contains('delete-btn') ? e.target : e.target.closest('.delete-btn');
                    const index = parseInt(button.getAttribute('data-index'));
                    deleteQuestion(index);
                } else if (e.target.classList.contains('edit-btn') || e.target.closest('.edit-btn')) {
                    const button = e.target.classList.contains('edit-btn') ? e.target : e.target.closest('.edit-btn');
                    const index = parseInt(button.getAttribute('data-index'));
                    editQuestion(index);
                }
            });
        }

        function addQuestion() {
            editingQuestionIndex = -1;
            document.getElementById('modalTitle').textContent = '‚ûï Th√™m C√¢u H·ªèi M·ªõi';
            document.getElementById('questionForm').reset();
            document.getElementById('questionModal').classList.remove('hidden');
        }

        function editQuestion(index) {
            const question = quizData[index];
            
            editingQuestionIndex = index;
            document.getElementById('modalTitle').textContent = '‚úèÔ∏è Ch·ªânh S·ª≠a C√¢u H·ªèi';
            
            document.getElementById('questionInput').value = question.question;
            document.getElementById('answerA').value = question.answers[0];
            document.getElementById('answerB').value = question.answers[1];
            document.getElementById('answerC').value = question.answers[2];
            document.getElementById('answerD').value = question.answers[3];
            document.getElementById('correctAnswer').value = question.correct;
            
            document.getElementById('questionModal').classList.remove('hidden');
        }

        function deleteQuestion(index) {
            if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a c√¢u h·ªèi n√†y?')) {
                quizData.splice(index, 1);
                loadQuestionsTable();
                showNotification('ƒê√£ x√≥a c√¢u h·ªèi th√†nh c√¥ng!');
            }
        }

        function updateSelectedCount() {
            const checkboxes = document.querySelectorAll('.question-checkbox');
            const checkedBoxes = document.querySelectorAll('.question-checkbox:checked');
            const selectedCount = checkedBoxes.length;
            
            document.getElementById('selectedCount').textContent = selectedCount;
            
            if (selectedCount > 0) {
                document.getElementById('deleteSelectedBtn').classList.remove('hidden');
            } else {
                document.getElementById('deleteSelectedBtn').classList.add('hidden');
            }
            
            const selectAllCheckbox = document.getElementById('selectAllCheckbox');
            if (selectedCount === 0) {
                selectAllCheckbox.indeterminate = false;
                selectAllCheckbox.checked = false;
            } else if (selectedCount === checkboxes.length) {
                selectAllCheckbox.indeterminate = false;
                selectAllCheckbox.checked = true;
            } else {
                selectAllCheckbox.indeterminate = true;
                selectAllCheckbox.checked = false;
            }
        }

        function selectAllQuestions(checked) {
            const checkboxes = document.querySelectorAll('.question-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.checked = checked;
            });
            updateSelectedCount();
        }

        function deleteSelectedQuestions() {
            const checkedBoxes = document.querySelectorAll('.question-checkbox:checked');
            const selectedIndices = Array.from(checkedBoxes).map(cb => parseInt(cb.getAttribute('data-index')));
            
            if (selectedIndices.length === 0) {
                showNotification('Vui l√≤ng ch·ªçn √≠t nh·∫•t m·ªôt c√¢u h·ªèi ƒë·ªÉ x√≥a!', 'error');
                return;
            }
            
            if (confirm(`B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ${selectedIndices.length} c√¢u h·ªèi ƒë√£ ch·ªçn?`)) {
                selectedIndices.sort((a, b) => b - a);
                
                selectedIndices.forEach(index => {
                    quizData.splice(index, 1);
                });
                
                loadQuestionsTable();
                showNotification(`ƒê√£ x√≥a th√†nh c√¥ng ${selectedIndices.length} c√¢u h·ªèi!`);
            }
        }

        function saveQuestion(questionData) {
            if (editingQuestionIndex >= 0) {
                quizData[editingQuestionIndex] = questionData;
                showNotification('ƒê√£ c·∫≠p nh·∫≠t c√¢u h·ªèi th√†nh c√¥ng!');
            } else {
                quizData.push(questionData);
                showNotification('ƒê√£ th√™m c√¢u h·ªèi m·ªõi th√†nh c√¥ng!');
            }
            
            loadQuestionsTable();
            document.getElementById('questionModal').classList.add('hidden');
        }

        function exportQuestions() {
            const dataStr = JSON.stringify(quizData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `cau-hoi-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            showNotification('ƒê√£ xu·∫•t file JSON th√†nh c√¥ng!');
        }

        function importQuestions(jsonData) {
            try {
                const questions = JSON.parse(jsonData);
                
                if (!Array.isArray(questions)) {
                    throw new Error('D·ªØ li·ªáu ph·∫£i l√† m·ªôt m·∫£ng');
                }
                
                for (let i = 0; i < questions.length; i++) {
                    const q = questions[i];
                    if (!q.question || !Array.isArray(q.answers) || q.answers.length !== 4 || 
                        typeof q.correct !== 'number' || q.correct < 0 || q.correct > 3) {
                        throw new Error(`C√¢u h·ªèi ${i + 1} c√≥ ƒë·ªãnh d·∫°ng kh√¥ng h·ª£p l·ªá`);
                    }
                }
                
                if (confirm(`B·∫°n c√≥ mu·ªën thay th·∫ø t·∫•t c·∫£ ${quizData.length} c√¢u h·ªèi hi·ªán t·∫°i b·∫±ng ${questions.length} c√¢u h·ªèi m·ªõi kh√¥ng?`)) {
                    quizData = questions;
                    loadQuestionsTable();
                    document.getElementById('importModal').classList.add('hidden');
                    showNotification(`ƒê√£ import th√†nh c√¥ng ${questions.length} c√¢u h·ªèi!`);
                }
            } catch (error) {
                showNotification(`L·ªói import: ${error.message}`, 'error');
            }
        }

        async function processWordFile(file) {
            try {
                document.getElementById('wordProcessingStatus').classList.remove('hidden');
                document.getElementById('processWordBtn').disabled = true;
                
                const arrayBuffer = await file.arrayBuffer();
                const result = await mammoth.extractRawText({ arrayBuffer: arrayBuffer });
                
                const extractedText = result.value.trim();
                document.getElementById('wordExtractedText').value = extractedText;
                document.getElementById('wordProcessingStatus').classList.add('hidden');
                
                if (extractedText) {
                    document.getElementById('processWordBtn').disabled = false;
                    showNotification('ƒê√£ tr√≠ch xu·∫•t n·ªôi dung t·ª´ file Word th√†nh c√¥ng!');
                } else {
                    document.getElementById('processWordBtn').disabled = true;
                    showNotification('File Word tr·ªëng ho·∫∑c kh√¥ng c√≥ n·ªôi dung text!', 'error');
                }
            } catch (error) {
                console.error('Word processing error:', error);
                document.getElementById('wordProcessingStatus').classList.add('hidden');
                document.getElementById('processWordBtn').disabled = true;
                document.getElementById('wordExtractedText').value = '';
                showNotification(`L·ªói x·ª≠ l√Ω file Word: ${error.message}`, 'error');
            }
        }

        function parseWordContent(content) {
            const questions = [];
            const lines = content.split('\n').map(line => line.trim()).filter(line => line);
            
            let currentQuestion = null;
            let currentAnswers = [];
            let correctAnswer = null;
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i];
                
                if (line.match(/^(C√¢u\s*\d+|Question\s*\d+|\d+[\.\)])/i)) {
                    if (currentQuestion && currentAnswers.length === 4 && correctAnswer !== null) {
                        questions.push({
                            question: currentQuestion,
                            answers: [...currentAnswers],
                            correct: correctAnswer
                        });
                    }
                    
                    currentQuestion = line.replace(/^(C√¢u\s*\d+|Question\s*\d+|\d+[\.\)])\s*:?\s*/i, '').trim();
                    currentAnswers = [];
                    correctAnswer = null;
                }
                else if (line.match(/^[A-D][\.\)]\s*/i) || line.match(/^[a-d][\)\.]?\s*/i)) {
                    const answerText = line.replace(/^[A-Da-d][\.\)]\s*/i, '').trim();
                    if (answerText && currentAnswers.length < 4) {
                        currentAnswers.push(answerText);
                    }
                }
                else if (line.match(/^(ƒê√°p\s*√°n|Answer|Correct)/i)) {
                    const match = line.match(/([A-Da-d])/i);
                    if (match) {
                        const letter = match[1].toUpperCase();
                        correctAnswer = letter.charCodeAt(0) - 65;
                    }
                }
                else if (line.match(/^(ƒê√°p\s*√°n\s*ƒë√∫ng)/i)) {
                    const match = line.match(/([A-Da-d])/i);
                    if (match) {
                        const letter = match[1].toLowerCase();
                        correctAnswer = letter.charCodeAt(0) - 97;
                    }
                }
                else if (currentQuestion && !line.match(/^[A-Da-d][\.\)]/i) && !line.match(/^(ƒê√°p\s*√°n)/i)) {
                    if (currentAnswers.length === 0) {
                        currentQuestion += ' ' + line;
                    }
                }
            }
            
            if (currentQuestion && currentAnswers.length === 4 && correctAnswer !== null) {
                questions.push({
                    question: currentQuestion,
                    answers: [...currentAnswers],
                    correct: correctAnswer
                });
            }
            
            return questions;
        }

        function importQuestionsFromWord() {
            const content = document.getElementById('wordExtractedText').value.trim();
            if (!content) {
                showNotification('Vui l√≤ng ch·ªçn v√† x·ª≠ l√Ω file Word tr∆∞·ªõc!', 'error');
                return;
            }
            
            try {
                const questions = parseWordContent(content);
                
                if (questions.length === 0) {
                    showNotification('Kh√¥ng t√¨m th·∫•y c√¢u h·ªèi h·ª£p l·ªá trong file Word! Vui l√≤ng ki·ªÉm tra ƒë·ªãnh d·∫°ng.', 'error');
                    return;
                }
                
                const invalidQuestions = [];
                const validQuestions = [];
                
                for (let i = 0; i < questions.length; i++) {
                    const q = questions[i];
                    
                    if (!q.question || q.question.trim() === '') {
                        invalidQuestions.push(`${i + 1}: Thi·∫øu n·ªôi dung c√¢u h·ªèi`);
                        continue;
                    }
                    
                    if (!Array.isArray(q.answers) || q.answers.length !== 4) {
                        invalidQuestions.push(`${i + 1}: Kh√¥ng ƒë·ªß 4 ƒë√°p √°n`);
                        continue;
                    }
                    
                    if (q.answers.some(answer => !answer || answer.trim() === '')) {
                        invalidQuestions.push(`${i + 1}: C√≥ ƒë√°p √°n tr·ªëng`);
                        continue;
                    }
                    
                    if (typeof q.correct !== 'number' || q.correct < 0 || q.correct > 3) {
                        invalidQuestions.push(`${i + 1}: ƒê√°p √°n ƒë√∫ng kh√¥ng h·ª£p l·ªá (${q.correct})`);
                        continue;
                    }
                    
                    validQuestions.push(q);
                }
                
                if (validQuestions.length === 0) {
                    showNotification(`Kh√¥ng c√≥ c√¢u h·ªèi h·ª£p l·ªá!\n\nL·ªói: ${invalidQuestions.join(', ')}`, 'error');
                    return;
                }
                
                if (invalidQuestions.length > 0) {
                    if (!confirm(`T√¨m th·∫•y ${validQuestions.length} c√¢u h·ªèi h·ª£p l·ªá v√† ${invalidQuestions.length} c√¢u h·ªèi l·ªói.\n\nC√°c l·ªói: ${invalidQuestions.slice(0, 3).join(', ')}${invalidQuestions.length > 3 ? '...' : ''}\n\nB·∫°n c√≥ mu·ªën import ${validQuestions.length} c√¢u h·ªèi h·ª£p l·ªá kh√¥ng?`)) {
                        return;
                    }
                }
                
                const firstQ = validQuestions[0];
                const previewText = `C√¢u h·ªèi ƒë·∫ßu ti√™n: "${firstQ.question.substring(0, 80)}${firstQ.question.length > 80 ? '...' : ''}"\n\nƒê√°p √°n:\nA. ${firstQ.answers[0].substring(0, 40)}${firstQ.answers[0].length > 40 ? '...' : ''}\nB. ${firstQ.answers[1].substring(0, 40)}${firstQ.answers[1].length > 40 ? '...' : ''}\nC. ${firstQ.answers[2].substring(0, 40)}${firstQ.answers[2].length > 40 ? '...' : ''}\nD. ${firstQ.answers[3].substring(0, 40)}${firstQ.answers[3].length > 40 ? '...' : ''}\n\nƒê√°p √°n ƒë√∫ng: ${String.fromCharCode(65 + firstQ.correct)}`;
                
                if (confirm(`T√¨m th·∫•y ${validQuestions.length} c√¢u h·ªèi h·ª£p l·ªá.\n\n${previewText}\n\nB·∫°n c√≥ mu·ªën thay th·∫ø t·∫•t c·∫£ ${quizData.length} c√¢u h·ªèi hi·ªán t·∫°i kh√¥ng?`)) {
                    quizData = [...validQuestions];
                    
                    setTimeout(() => {
                        loadQuestionsTable();
                    }, 100);
                    
                    document.getElementById('importWordModal').classList.add('hidden');
                    showNotification(`ƒê√£ import th√†nh c√¥ng ${validQuestions.length} c√¢u h·ªèi t·ª´ file Word!`);
                    
                    document.getElementById('wordFileInput').value = '';
                    document.getElementById('wordExtractedText').value = '';
                    document.getElementById('processWordBtn').disabled = true;
                }
            } catch (error) {
                console.error('Import error:', error);
                showNotification(`L·ªói x·ª≠ l√Ω: ${error.message}`, 'error');
            }
        }

        // Tab Management
        function showTab(tabName) {
            document.getElementById('studentForm').classList.add('hidden');
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('resultsContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
            document.getElementById('questionManagementContainer').classList.add('hidden');
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.className = 'tab-btn px-6 py-3 rounded-lg font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300';
            });
            
            switch(tabName) {
                case 'quiz':
                    document.getElementById('studentForm').classList.remove('hidden');
                    document.getElementById('tabQuiz').classList.add('active');
                    document.getElementById('tabQuiz').className = 'tab-btn active px-6 py-3 rounded-lg font-medium transition-all bg-gradient-to-r from-blue-500 to-purple-600 text-white';
                    break;
                case 'manage':
                    // Check password for management tab
                    const password = prompt('üîí Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ truy c·∫≠p qu·∫£n l√Ω c√¢u h·ªèi:');
                    if (password !== 'abc123') {
                        showNotification('M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng! Truy c·∫≠p b·ªã t·ª´ ch·ªëi.', 'error');
                        return;
                    }
                    document.getElementById('questionManagementContainer').classList.remove('hidden');
                    document.getElementById('tabManage').classList.add('active');
                    document.getElementById('tabManage').className = 'tab-btn active px-6 py-3 rounded-lg font-medium transition-all bg-gradient-to-r from-blue-500 to-purple-600 text-white';
                    loadQuestionsTable();
                    showNotification('ƒê√£ truy c·∫≠p th√†nh c√¥ng v√†o qu·∫£n l√Ω c√¢u h·ªèi!');
                    break;
                case 'results':
                    document.getElementById('leaderboardContainer').classList.remove('hidden');
                    document.getElementById('tabResults').classList.add('active');
                    document.getElementById('tabResults').className = 'tab-btn active px-6 py-3 rounded-lg font-medium transition-all bg-gradient-to-r from-blue-500 to-purple-600 text-white';
                    loadLeaderboard();
                    break;
            }
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            loadLeaderboard();
            
            // Student form
            document.getElementById('infoForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const name = document.getElementById('studentName').value.trim();
                const studentClass = document.getElementById('studentClass').value.trim();
                
                if (!name || !studentClass) {
                    showNotification('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin!', 'error');
                    return;
                }
                
                studentInfo = { name, class: studentClass };
                initializeQuiz();
                
                document.getElementById('studentForm').classList.add('hidden');
                document.getElementById('quizContainer').classList.remove('hidden');
                
                displayQuestion();
                startTimer();
                showNotification('B·∫Øt ƒë·∫ßu l√†m b√†i! Ch√∫c b·∫°n may m·∫Øn!');
            });

            // Quiz navigation
            document.getElementById('prevBtn').addEventListener('click', previousQuestion);
            document.getElementById('nextBtn').addEventListener('click', nextQuestion);
            document.getElementById('submitBtn').addEventListener('click', submitQuiz);

            // Confirmation modal
            document.getElementById('confirmSubmit').addEventListener('click', () => {
                document.getElementById('confirmModal').classList.add('hidden');
                showResults();
            });

            document.getElementById('cancelSubmit').addEventListener('click', () => {
                document.getElementById('confirmModal').classList.add('hidden');
            });

            // Results actions
            document.getElementById('retakeBtn').addEventListener('click', resetQuiz);
            document.getElementById('leaderboardBtn').addEventListener('click', () => {
                document.getElementById('resultsContainer').classList.add('hidden');
                document.getElementById('leaderboardContainer').classList.remove('hidden');
                loadLeaderboard();
            });

            // Leaderboard actions
            document.getElementById('backToQuizBtn').addEventListener('click', () => {
                document.getElementById('leaderboardContainer').classList.add('hidden');
                document.getElementById('resultsContainer').classList.remove('hidden');
            });
            document.getElementById('exportBtn').addEventListener('click', exportResults);
            document.getElementById('clearDataBtn').addEventListener('click', clearAllData);

            // Tab navigation
            document.getElementById('tabQuiz').addEventListener('click', () => showTab('quiz'));
            document.getElementById('tabManage').addEventListener('click', () => showTab('manage'));
            document.getElementById('tabResults').addEventListener('click', () => showTab('results'));

            // Question management
            document.getElementById('addQuestionBtn').addEventListener('click', addQuestion);

            document.getElementById('questionForm').addEventListener('submit', (e) => {
                e.preventDefault();
                
                const questionData = {
                    question: document.getElementById('questionInput').value.trim(),
                    answers: [
                        document.getElementById('answerA').value.trim(),
                        document.getElementById('answerB').value.trim(),
                        document.getElementById('answerC').value.trim(),
                        document.getElementById('answerD').value.trim()
                    ],
                    correct: parseInt(document.getElementById('correctAnswer').value)
                };
                
                if (!questionData.question || questionData.answers.some(a => !a) || isNaN(questionData.correct)) {
                    showNotification('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin!', 'error');
                    return;
                }
                
                saveQuestion(questionData);
            });

            document.getElementById('cancelQuestionBtn').addEventListener('click', () => {
                document.getElementById('questionModal').classList.add('hidden');
            });

            // Import/Export
            document.getElementById('exportQuestionsBtn').addEventListener('click', exportQuestions);

            document.getElementById('importQuestionsBtn').addEventListener('click', () => {
                document.getElementById('jsonFileInput').value = '';
                document.getElementById('jsonTextInput').value = '';
                document.getElementById('importModal').classList.remove('hidden');
            });

            document.getElementById('jsonFileInput').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        document.getElementById('jsonTextInput').value = e.target.result;
                    };
                    reader.readAsText(file);
                }
            });

            document.getElementById('importConfirmBtn').addEventListener('click', () => {
                const jsonData = document.getElementById('jsonTextInput').value.trim();
                if (!jsonData) {
                    showNotification('Vui l√≤ng ch·ªçn file ho·∫∑c d√°n n·ªôi dung JSON!', 'error');
                    return;
                }
                importQuestions(jsonData);
            });

            document.getElementById('cancelImportBtn').addEventListener('click', () => {
                document.getElementById('importModal').classList.add('hidden');
            });

            // Word import
            document.getElementById('importWordBtn').addEventListener('click', () => {
                document.getElementById('wordFileInput').value = '';
                document.getElementById('wordExtractedText').value = '';
                document.getElementById('processWordBtn').disabled = true;
                document.getElementById('wordProcessingStatus').classList.add('hidden');
                document.getElementById('importWordModal').classList.remove('hidden');
            });

            document.getElementById('wordFileInput').addEventListener('change', async (e) => {
                const file = e.target.files[0];
                if (file) {
                    if (file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' || 
                        file.type === 'application/msword' || 
                        file.name.endsWith('.docx') || 
                        file.name.endsWith('.doc')) {
                        await processWordFile(file);
                    } else {
                        showNotification('Vui l√≤ng ch·ªçn file Word (.docx ho·∫∑c .doc)!', 'error');
                        e.target.value = '';
                    }
                } else {
                    document.getElementById('processWordBtn').disabled = true;
                    document.getElementById('wordExtractedText').value = '';
                }
            });

            document.getElementById('processWordBtn').addEventListener('click', importQuestionsFromWord);

            document.getElementById('cancelWordImportBtn').addEventListener('click', () => {
                document.getElementById('importWordModal').classList.add('hidden');
            });

            // Checkbox management
            document.getElementById('selectAllCheckbox').addEventListener('change', (e) => {
                selectAllQuestions(e.target.checked);
            });

            document.getElementById('deleteSelectedBtn').addEventListener('click', deleteSelectedQuestions);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9819ae28d6e70901',t:'MTc1ODI5MTE3MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
